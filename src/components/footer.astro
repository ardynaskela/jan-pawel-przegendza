---
import clsx from "clsx/lite";
import Link from "./link.astro";
import Navigation from "./navigation";
import { NAV_ITEMS } from "../lib/nav";

const pathname = Astro.url.pathname;
const isHome = pathname === "/" || pathname === "/index";

const works = NAV_ITEMS.find((i) => i.href === "/works");
const about = NAV_ITEMS.find((i) => i.href === "/about");
---

<footer
  class={clsx(
    "fixed inset-x-0 bottom-0 z-40 pl-4 sm:pl-12 pr-4 py-0 md:py-4",
    isHome ? "bg-transparent" : "bg-transparent md:bg-neutral-950"
  )}
>
  <div class="flex justify-end">
    <!-- Desktop -->
    <div class="hidden md:flex items-center gap-4 flex-wrap justify-end">
      {NAV_ITEMS.map((item) => (
        <Link href={item.href} variant="secondary">
          {item.label}
        </Link>
      ))}
    </div>

    <!-- Mobile -->
    <div class="md:hidden">
      <Navigation client:load items={NAV_ITEMS} />

      {isHome && works && about && (
        <div class="fixed left-4 bottom-4 sm:left-8 sm:bottom-8 z-50 flex items-center gap-4">
          <Link href={works.href}>{works.label}</Link>
          <Link href={about.href} variant="secondary">
            {about.label}
          </Link>
        </div>
      )}
    </div>
  </div>
</footer>